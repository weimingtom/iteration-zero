
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>luigi.signalobj</title>
<link rel="stylesheet" type="text/css" href="candydoc/style.css">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="candydoc/explorer.js" type="text/javascript"></script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("luigi.signalobj");</script>
	<table class="content">
		<tr><td id="docbody"><h1>luigi.signalobj</h1><!-- Generated by Ddoc from signalobj.d -->

<span class="currsymbol">signalobj</span>
<script>explorer.outline.addDecl('signalobj');</script>

.d - a few utilities for creating signal objects for more flexible
   signals and slots.
<br><br>
Written by Bill Baxter, November 9, 2006.
 This code is released to the public domain
 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">SignalObj</span>
<script>explorer.outline.addDecl('SignalObj');</script>

(T...);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>A simple object that wraps a std.signal.  This allows creating signals at
  global scope, returning them from functions, etc.
  In terms of what can be connected, this has the same restrictions as
  the std.signal.Signal mixin, namely the slot delegate signature must
  match the signal's signature exactly.
 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl></dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">DelegateSlot</span>
<script>explorer.outline.addDecl('DelegateSlot');</script>

(T...);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>A wrapper for a delegate.  This lets one use delegate literals
 as a slot in some situations where they would cause access errors.
 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl></dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">struct 
<span class="currsymbol">slot_key</span>
<script>explorer.outline.addDecl('slot_key');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>A simple opaque datatype which serves as a key for FlexSignal.fdisconnect.
  The primary use is internal, for keeping a mapping between user slots
  and their wrappers.  However, they can also be used as a key to a delegate
  literal for later disconnecting.
 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl></dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">class 
<span class="currsymbol">FlexSignal</span>
<script>explorer.outline.addDecl('FlexSignal');</script>

(T...);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>
<span class="currsymbol">FlexSignal</span>
<script>explorer.outline.addDecl('FlexSignal');</script>

 is a more flexible version of a signal object wrapper.
<br><br>
Using the connect/disconnect methods it is possible to connect the
  signal to most any callable entity with a signature that is 'compatible'.
  with the signal's signature.
<br><br>

  Specifically one can connect
  - functions and delegate literals.
  - slots that return values (the return value is simply ignored by the signal)
  - slots that take fewer parameters than the signal supplies
    (trailing paramters from signal simply aren't passed to the slot).
  - delegates with fewer arguments
  than the signal supplies are allowed, and any argument which can
  be implicitly converted by D is allowed as well.
 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">emit</span>
<script>explorer.outline.addDecl('emit');</script>

(T <span class="funcparam">v</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Emit the signal with the given arguments.
     
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">slot_t 
<span class="currsymbol">connect_exact</span>
<script>explorer.outline.addDecl('connect_exact');</script>

(slot_t <span class="funcparam">f</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Connect a slot to the signal using a class delegate exactly
  matching the signature of the signal.
<br><br>
<b>Returns:</b><br>
the slot passed in.
     
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">slot_t 
<span class="currsymbol">disconnect_exact</span>
<script>explorer.outline.addDecl('disconnect_exact');</script>

(slot_t <span class="funcparam">f</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Disconnect a slot from the signal using a class delegate exactly
  matching the signature of the signal.
<br><br>
<b>Returns:</b><br>
the slot passed in.
     
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">template 
<span class="currsymbol">connect</span>
<script>explorer.outline.addDecl('connect');</script>

(DT,int arg_offset = 0)</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>A flexible version of 
<span class="currsymbol">connect</span>
<script>explorer.outline.addDecl('connect');</script>

.  Works for delegates to classes
 or structs, plain functions, delegate literals.  Also works for
 things with or without return values, and with fewer
 arguments than the signal supplies.
<br><br>
So for example, an (int,char[]) FlexSignal can be connected to an
 int funciton that returns a float.
<br><br>

 Also it can convert compatible argument types, any thing that can
 be implicitly converted at runtime is allowed.
<br><br>

 So for example, the (int, char[]) FlexSigal can be connected to a
 method taking a (double,char[]) because int is automatically
 promoted to double.

<br><br>
<b>Returns:</b><br>
a slot key which can be used to disconnect the item
 later.  (You can also use the original slot to disconnect if you
 have it.)
     
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">slot_key 
<span class="currsymbol">connect</span>
<script>explorer.outline.addDecl('connect');</script>

(DT <span class="funcparam">f</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>A flexible version of 
<span class="currsymbol">connect</span>
<script>explorer.outline.addDecl('connect');</script>

.  Works for delegates to classes
 or structs, plain functions, delegate literals.  Also works for
 things with or without return values, and with fewer
 arguments than the signal supplies.
<br><br>
So for example, an (int,char[]) FlexSignal can be connected to an
 int funciton that returns a float.
<br><br>

 Also it can convert compatible argument types, any thing that can
 be implicitly converted at runtime is allowed.
<br><br>

 So for example, the (int, char[]) FlexSigal can be connected to a
 method taking a (double,char[]) because int is automatically
 promoted to double.

<br><br>
<b>Returns:</b><br>
a slot key which can be used to disconnect the item
 later.  (You can also use the original slot to disconnect if you
 have it.)
     
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">alias 
<span class="currsymbol">opCatAssign</span>
<script>explorer.outline.addDecl('opCatAssign');</script>

;
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Provides an alternate signal for connect() using the ~= operator.
        This can allow for somewhat cleaner syntax when using delegate literals.
        (One set of parentheses is eliminated)
        For example:
            theSignal ~= (Widget w, bool onoff) {
                writefln(onoff?"checked!":"unchecked!");};
        Versus
            theSignal.connect( (Widget w, bool onoff) {
                writefln(onoff?"checked!":"unchecked!");});
        The downside is that it is not possible to specify template
        arguments for ~= explicitly if needed.
     
<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">template 
<span class="currsymbol">connect1st</span>
<script>explorer.outline.addDecl('connect1st');</script>

(DT)</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Some simple wrappers for the most comment skipped argument
  versions of connect.  These work well with implicit instatiation.
     
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">slot_key 
<span class="currsymbol">connect1st</span>
<script>explorer.outline.addDecl('connect1st');</script>

(DT <span class="funcparam">f</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Some simple wrappers for the most comment skipped argument
  versions of connect.  These work well with implicit instatiation.
     
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">template 
<span class="currsymbol">disconnect</span>
<script>explorer.outline.addDecl('disconnect');</script>

(DT)</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Disconnect a slot of any type 
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">disconnect</span>
<script>explorer.outline.addDecl('disconnect');</script>

(DT <span class="funcparam">f</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Disconnect a slot of any type 
<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">template 
<span class="currsymbol">SlotAdapter</span>
<script>explorer.outline.addDecl('SlotAdapter');</script>

(slot_t)</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>
<span class="currsymbol">SlotAdapter</span>
<script>explorer.outline.addDecl('SlotAdapter');</script>

 is a template that takes a signal's 'slot_t' delegate type.
 It contains two functions, wrap() and adapt().
<br><br>
wrap() returns a slot_t delegate to object that wraps a passed in
 delegate or function which may have a signature that differs from
 'slot_t'.  As long as the callable entity passed in has argument
 types compatible with 'slot_t' then the operation should succeed.  In
 particular exact matching with slot_t's parameter types is not
 necessary, any type implicitly convertable from the slot_t's argument
 type is ok.
<br><br>

 adapt() is the same as wrap(), except it will return the original
 delegate without creating a wrapper if that delegate's matches the
 slot_t exactly.

<br><br>
<b>Usage:</b><br>
auto wrapped = 
<span class="currsymbol">SlotAdapter</span>
<script>explorer.outline.addDecl('SlotAdapter');</script>

!(Signals_SlotType).wrap(target_slot)
   auto adapted = 
<span class="currsymbol">SlotAdapter</span>
<script>explorer.outline.addDecl('SlotAdapter');</script>

!(Signals_SlotType).adapt(target_slot)
<br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl></dl>
<script>explorer.outline.decSymbolLevel();</script>


</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>


</td></tr>
		<tr><td id="docfooter">
			Page was generated with
			<img src="candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">
			on Wed Dec  6 09:51:44 2006

		</td></tr>
	</table>
</div>
<script>
	explorer.packageExplorer.addModule("luigi.base");
	explorer.packageExplorer.addModule("luigi.arranger");
	explorer.packageExplorer.addModule("luigi.adapter");
	explorer.packageExplorer.addModule("luigi.adapters.gld");
	explorer.packageExplorer.addModule("luigi.adapters.glfw");
	explorer.packageExplorer.addModule("luigi.event");
	explorer.packageExplorer.addModule("luigi.font");
	explorer.packageExplorer.addModule("luigi.gldraw");
	explorer.packageExplorer.addModule("luigi.gui");
	explorer.packageExplorer.addModule("luigi.theme");
	explorer.packageExplorer.addModule("luigi.themes.std");
	explorer.packageExplorer.addModule("luigi.themes.dxut");
	explorer.packageExplorer.addModule("luigi.opengl");
	explorer.packageExplorer.addModule("luigi.signalobj");
	explorer.packageExplorer.addModule("wrapres");</script>
</body></html>


